(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9372a0e6"],{"218c":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("mu-dialog",{attrs:{"overlay-close":!1,width:"360",open:t.open},on:{"update:open":function(e){t.open=e}}},[o("lottie",{attrs:{options:t.options},on:{animCreated:t.handleAnimation}})],1)},n=[],a=o("8c2c"),s={name:"AnimatorDialog",components:{Lottie:a["a"]},methods:{handleAnimation:function(t){var e=this;t.addEventListener("complete",function(){e.$emit("update:open",e.options.loop),e.$emit("animationPlayComplete")})}},props:{options:{type:Object,required:!0},open:{type:Boolean,default:!1}}},r=s,l=o("0c7c"),u=Object(l["a"])(r,i,n,!1,null,null,null);u.options.__file="AnimatorDialog.vue";e["a"]=u.exports},ede4:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("container-view",[o("appbar",{attrs:{slot:"appbar",title:"登陆",showBack:!0},slot:"appbar"}),o("mu-container",[o("mu-form",{ref:"form",attrs:{model:t.loginForm}},[o("mu-form-item",{attrs:{"label-float":"",icon:"phone_iphone",label:"手机号",prop:"username",rules:t.usernameRules}},[o("mu-text-field",{attrs:{prop:"username"},model:{value:t.loginForm.username,callback:function(e){t.$set(t.loginForm,"username",e)},expression:"loginForm.username"}})],1),o("mu-form-item",{attrs:{label:"密码",icon:"locked","label-float":"",prop:"password",rules:t.passwordRules}},[o("mu-text-field",{ref:"pwd",attrs:{"action-icon":t.visibility?"visibility_off":"visibility","action-click":function(){return t.visibility=!t.visibility},type:t.visibility?"text":"password"},on:{keypress:t.submit2},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),o("mu-form-item",[o("mu-button",{staticStyle:{width:"30%"},attrs:{round:"",color:"primary"},on:{click:t.submit}},[t._v("登陆\n        ")]),o("p",{staticStyle:{flex:"1","text-align":"right"}},[t._v("还未注册?\n          "),o("a",{staticStyle:{color:"#2196F3"},on:{click:function(e){t.$router.push("register")}}},[t._v("前往注册")])])],1)],1),o("animator-dialog",{attrs:{open:t.openDialog,options:{animationData:t.$animationData.successAnimator,loop:!1}},on:{"update:open":function(e){t.openDialog=e},animationPlayComplete:t.animationPlayComplete}})],1)],1)},n=[],a=o("be94"),s=o("98f3"),r=o("2f62"),l=o("218c"),u=o("b95d"),m={name:"login",components:{Appbar:u["a"],AnimatorDialog:l["a"],ContainerView:s["a"]},data:function(){return{usernameRules:[{validate:function(t){return!!t},message:"必须填写手机号"}],passwordRules:[{validate:function(t){return!!t},message:"必须填写密码"},{validate:function(t){return/^[a-zA-Z0-9]{4,10}$/.test(t)},message:"密码不能含有非法字符，长度在4-10之间"}],loginForm:{username:"",password:"",isAgree:!1},visibility:!1,openDialog:!1}},methods:Object(a["a"])({},Object(r["b"])(["commit_userInfo"]),{animationPlayComplete:function(){this.$router.back()},submit:function(){var t=this;this.$refs.form.validate().then(function(e){return e&&t.login()})},submit2:function(t){13===t.keyCode&&(this.$refs.pwd.$el.childNodes[0].childNodes[0].blur(),this.submit())},login:function(){var t=this;this.$api.apiUser.login(this.loginForm.username,this.loginForm.password).then(function(e){var o=e;0===o.code?(localStorage.setItem("userInfo",JSON.stringify(o.user)),t.commit_userInfo(o.user),t.openDialog=!0):t.$alert("".concat(o.msg),"提示")})}})},c=m,p=o("0c7c"),f=Object(p["a"])(c,i,n,!1,null,null,null);f.options.__file="Login.vue";e["default"]=f.exports}}]);